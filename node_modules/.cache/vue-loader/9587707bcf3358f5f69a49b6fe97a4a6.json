{"remainingRequest":"C:\\Users\\cwh\\IdeaProjects\\filmsystem\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\cwh\\IdeaProjects\\filmsystem\\src\\components\\MovieInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\cwh\\IdeaProjects\\filmsystem\\src\\components\\MovieInfo.vue","mtime":1614168404142},{"path":"C:\\Users\\cwh\\IdeaProjects\\filmsystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cwh\\IdeaProjects\\filmsystem\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\cwh\\IdeaProjects\\filmsystem\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\cwh\\IdeaProjects\\filmsystem\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdNb3ZpZUluZm8nLAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgdXNlcklkOiAnJywKICAgICAgICAgICAgdXNlckluZm86ICcnLAogICAgICAgICAgICB1c2VyX3Nob3c6IDAsCiAgICAgICAgICAgIG1vdmllSWQ6ICcnLAogICAgICAgICAgICBpbmZvOiAnJywKICAgICAgICAgICAgbW9yZUluZm86ICcnLAogICAgICAgICAgICBnZW5yZTogW10sCiAgICAgICAgICAgIGdlbnJlX2xlbjogMCwKICAgICAgICAgICAgaXNNYXJrOiBmYWxzZSwKICAgICAgICAgICAgb3duU2NvcmU6IDAsCiAgICAgICAgICAgIGxpZ2h0OiAwLAogICAgICAgICAgICBjb21tZW50X3Nob3c6ICcnLAogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CgogICAgICAgIHRoaXMudXNlcklkID0gd2luZG93LnNlc3Npb25TdG9yYWdlLnVzZXI7CiAgICAgICAgbGV0IHVzZXJKc29uU3RyID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJyk7CiAgICAgICAgdGhpcy51c2VySW5mbyA9IEpTT04ucGFyc2UodXNlckpzb25TdHIpOwogICAgICAgIHRoaXMubW92aWVJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1vdmllX2lkOwoKICAgICAgICBheGlvcy5wb3N0KAogICAgICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDo4ODY2L2dldC9tb3ZpZS9pbmZvJywKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbW92aWVJZDogdGhpcy5tb3ZpZUlkCiAgICAgICAgICAgIH0KICAgICAgICApLnRoZW4oKHJlcyk9PnsKICAgICAgICAgICAgdGhpcy5pbmZvID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGxldCBwaWMgPSAnJzsKICAgICAgICAgICAgcGljID0gdGhpcy5pbmZvLm1vdmllSWQgKyAnLmpwZyc7CiAgICAgICAgICAgIHRoaXMuaW5mby5tb3ZpZUlkID0gJ2h0dHA6Ly9jaGVuZGEud29yay9pbWRiL2pwZy8nK3BpYzsKICAgICAgICAgICAgbGV0IHMgPSB0aGlzLmluZm8uYXZnU2NvcmU7CiAgICAgICAgICAgIHRoaXMuaW5mby5hdmdTY29yZSA9IE1hdGgucm91bmQocyoxMCkvNS4wOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXN1bHQpOwogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewoKICAgICAgICB9KTsKCiAgICAgICAgYXhpb3MucG9zdCgKICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg2Ni9nZXQvbW92aWUvbW9yZUluZm8nLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBtb3ZpZUlkOiB0aGlzLm1vdmllSWQKICAgICAgICAgICAgfQogICAgICAgICkudGhlbigocmVzKT0+ewogICAgICAgICAgICB0aGlzLm1vcmVJbmZvID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGlmKHRoaXMubW9yZUluZm8uYWN0aW9uPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJhY3Rpb24iKTsKICAgICAgICAgICAgaWYodGhpcy5tb3JlSW5mby5hZHZlbnR1cmU9PTEpCiAgICAgICAgICAgICAgICB0aGlzLmdlbnJlLnB1c2goImFkdmVudHVyZSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLmFuaW1hdGlvbj09MSkKICAgICAgICAgICAgICAgIHRoaXMuZ2VucmUucHVzaCgiYW5pbWF0aW9uIik7CiAgICAgICAgICAgIGlmKHRoaXMubW9yZUluZm8uY2hpbGRyZW5zPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJjaGlsZHJlbnMiKTsKICAgICAgICAgICAgaWYodGhpcy5tb3JlSW5mby5jb21lZHk9PTEpCiAgICAgICAgICAgICAgICB0aGlzLmdlbnJlLnB1c2goImNvbWVkeSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLmNyaW1lPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJjcmltZSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLmRvY3VtZW50YXJ5PT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJkb2N1bWVudGFyeSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLmRyYW1hPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJkcmFtYSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLmZhbnRhc3k9PTEpCiAgICAgICAgICAgICAgICB0aGlzLmdlbnJlLnB1c2goImZhbnRhc3kiKTsKICAgICAgICAgICAgaWYodGhpcy5tb3JlSW5mby5maWxtbm9pcj09MSkKICAgICAgICAgICAgICAgIHRoaXMuZ2VucmUucHVzaCgiZmlsbW5vaXIiKTsKICAgICAgICAgICAgaWYodGhpcy5tb3JlSW5mby5ob3Jyb3I9PTEpCiAgICAgICAgICAgICAgICB0aGlzLmdlbnJlLnB1c2goImhvcnJvciIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLm11c2ljYWw9PTEpCiAgICAgICAgICAgICAgICB0aGlzLmdlbnJlLnB1c2goIm11c2ljYWwiKTsKICAgICAgICAgICAgaWYodGhpcy5tb3JlSW5mby5teXN0ZXJ5PT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJteXN0ZXJ5Iik7CiAgICAgICAgICAgIGlmKHRoaXMubW9yZUluZm8ucm9tYW5jZT09MSkKICAgICAgICAgICAgICAgIHRoaXMuZ2VucmUucHVzaCgicm9tYW5jZSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLnNjaWZpPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJzY2lmaSIpOwogICAgICAgICAgICBpZih0aGlzLm1vcmVJbmZvLnRocmlsbGVyPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJ0aHJpbGxlciIpCiAgICAgICAgICAgIGlmKHRoaXMubW9yZUluZm8ud2FyPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJ3YXIiKTsKICAgICAgICAgICAgaWYodGhpcy5tb3JlSW5mby51bmtub3duPT0xKQogICAgICAgICAgICAgICAgdGhpcy5nZW5yZS5wdXNoKCJ1bmtub3duIik7CiAgICAgICAgICAgIHRoaXMuZ2VucmVfbGVuID0gdGhpcy5nZW5yZS5sZW5ndGg7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3VsdCk7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CgogICAgICAgIH0pOwoKICAgICAgICBheGlvcy5wb3N0KAogICAgICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDo4ODY2L2NoZWNrL2lzTWFyaycsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsCiAgICAgICAgICAgICAgICBtb3ZpZUlkOiB0aGlzLm1vdmllSWQKICAgICAgICAgICAgfQogICAgICAgICkudGhlbigocmVzKT0+ewogICAgICAgICAgICBpZihyZXMuZGF0YS5zY29yZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzTWFyayA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLm93blNjb3JlID0gcmVzLmRhdGEuc2NvcmUgKiAyOwogICAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3VsdCk7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CgogICAgICAgIH0pOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+ivhOWIhum8oOagh+aCrOWBnOS6i+S7tgogICAgICAgIG9uU3RhcihtYXJrKXsKICAgICAgICAgICAgaWYobWFyaz09MCl7CiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0ID0gMDsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudF9zaG93ID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYobWFyaz09MSl7CiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0ID0gMjA7CiAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRfc2hvdyA9ICflvojlt64nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKG1hcms9PTIpewogICAgICAgICAgICAgICAgdGhpcy5saWdodCA9IDQwOwogICAgICAgICAgICAgICAgdGhpcy5jb21tZW50X3Nob3cgPSAn6L6D5beuJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihtYXJrPT0zKXsKICAgICAgICAgICAgICAgIHRoaXMubGlnaHQgPSA2MDsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudF9zaG93ID0gJ+i/mOihjCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYobWFyaz09NCl7CiAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0ID0gODA7CiAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRfc2hvdyA9ICfmjqjojZAnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKG1hcms9PTUpewogICAgICAgICAgICAgICAgdGhpcy5saWdodCA9IDEwMDsKICAgICAgICAgICAgICAgIHRoaXMuY29tbWVudF9zaG93ID0gJ+WKm+iNkCc7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvL+aMieS4i+ivhOS7twogICAgICAgIG1hcmtEb3duKHN0YXJXaWR0aCl7CiAgICAgICAgICAgIGxldCBzY29yZSA9IHN0YXJXaWR0aCAvIDIwOwogICAgICAgICAgICBheGlvcy5wb3N0KAogICAgICAgICAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODg2Ni9hZGQvbWFya01vdmllJywKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgICAgICAgICAgICAgIG1vdmllSWQ6IHRoaXMubW92aWVJZCwKICAgICAgICAgICAgICAgICAgICBzY29yZTogc2NvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKS50aGVuKChyZXMpPT57CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICBpZihyZXMuZGF0YSA9PSAxKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTWFyayA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25TY29yZSA9IHNjb3JlICogMjsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRfc2hvdyA9ICcnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBhbGVydCgi5pyN5Yqh5Zmo5byA5bCP5beu5LqG77yM6K+356iN5ZCO5YaN6K+VIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3VsdCk7CiAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgIH0KfQo="},{"version":3,"sources":["MovieInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"MovieInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"top\">\r\n            <div class=\"logo\">\r\n                <span style=\"font-size: 35px;margin-left: 20px\">土豆电影</span>\r\n            </div>\r\n            <div style=\"width: 10%;height: 10px\"></div>\r\n            <div class=\"person\" v-on:mouseover=\"user_show=1\" v-on:mouseout=\"user_show=0\">\r\n                <img :src=\"require('../assets/me.jpg')\" style=\"height: 40px;border-radius: 50%\">\r\n            </div>\r\n            <div class=\"userBox\" v-show=\"user_show\">\r\n                <div style=\"margin-left: 20px;margin-top: 20px\">\r\n                    <div style=\"height: 40px\"><p><span>账号：</span>{{userInfo.id}}</p></div>\r\n                    <div style=\"height: 40px\"><p><span>密码：</span>{{userInfo.code}}</p></div>\r\n                    <div style=\"height: 40px\"><p><span>性别：</span>{{userInfo.sex}}</p></div>\r\n                    <div style=\"height: 40px\"><p><span>年龄：</span>{{userInfo.age}}</p></div>\r\n                    <div style=\"height: 40px\"><p><span>职业：</span>{{userInfo.occupation}}</p></div>\r\n                    <div style=\"height: 40px\" v-if=\"userInfo.mailbox!=null\">\r\n                        <p><span>邮箱：</span>{{userInfo.mailbox}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div style=\"height: 30px\"></div>\r\n        <div class=\"middle\">\r\n            <div class=\"movieName\">{{info.movieTitle}}</div>\r\n            <div style=\"float: left;width: 60%\">\r\n                <div style=\"height: 30px;width: 100%\"></div>\r\n                <div style=\"float: left;width: 30%\">\r\n                    <img :src=\"info.movieId\" alt=\"图片\" width=\"100%\">\r\n                </div>\r\n                <div style=\"float: left;width: 70%\">\r\n                    <span style=\"padding-left: 20px;color: rgba(11,21,22,0.38);font-size: 20px\">片名：</span>\r\n                    <span style=\"font-size: 18px\">{{info.movieTitle}}</span>\r\n                    <div style=\"width: 100%;height: 20px\"></div>\r\n                    <span style=\"padding-left: 20px;color: rgba(11,21,22,0.38);font-size: 20px\">发行日期：</span>\r\n                    <span style=\"font-size: 18px\">{{moreInfo.releaseDate}}</span>\r\n                    <div style=\"width: 100%;height: 20px\"></div>\r\n                    <span style=\"padding-left: 20px;color: rgba(11,21,22,0.38);font-size: 20px\">类型：</span>\r\n                    <span style=\"font-size: 18px\" v-for=\"(rank,index) in genre\" :key=\"index\">\r\n                        <span v-if=\"index<genre_len-1\">{{rank}}/</span>\r\n                        <span v-if=\"index==genre_len-1\">{{rank}}</span>\r\n                    </span>\r\n                    <div style=\"width: 100%;height: 20px\"></div>\r\n                    <span style=\"padding-left: 20px;color: rgba(11,21,22,0.38);font-size: 20px\">语言：</span>\r\n                    <span style=\"font-size: 18px\">English</span>\r\n                    <div style=\"width: 100%;height: 20px\"></div>\r\n                    <span style=\"padding-left: 20px;color: rgba(11,21,22,0.38);font-size: 20px\">土豆评分：</span>\r\n                    <div class=\"star\">\r\n                        <div class=\"lightStar\" :style=\"{width: info.avgScore*10 + 'px'}\"></div>\r\n                        <div class=\"greyStar\"></div>\r\n                    </div>\r\n                    <span class=\"num\">{{info.avgScore}}分</span>\r\n                    <div style=\"width: 100%;height: 5px\"></div>\r\n                    <span style=\"padding-left: 130px;color: #0f80ff;font-size: 13px\">{{info.rank}}人评价</span>\r\n                </div>\r\n                <div style=\"width: 100%;height: 20px;float:left;\"></div>\r\n                <div style=\"float:left;height: 16px;width: 100%\" v-if=\"!isMark\">\r\n                    <span style=\"float:left;color: rgba(11,21,22,0.38);font-size: 18px\">按下你的评价：</span>\r\n                    <div class=\"star1\" v-on:mouseleave=\"onStar(0)\">\r\n                        <div class=\"lightStar1\" :style=\"{width: light + 'px'}\" @click=\"markDown(light)\"></div>\r\n                        <div class=\"greyStar1\" v-on:mouseenter=\"onStar(1)\"></div>\r\n                        <div class=\"greyStar1\" v-on:mouseenter=\"onStar(2)\"></div>\r\n                        <div class=\"greyStar1\" v-on:mouseenter=\"onStar(3)\"></div>\r\n                        <div class=\"greyStar1\" v-on:mouseenter=\"onStar(4)\"></div>\r\n                        <div class=\"greyStar1\" v-on:mouseenter=\"onStar(5)\"></div>\r\n                    </div>\r\n                    <span style=\"padding-left: 10px;font-size: 15px;color: rgba(0,0,0,0.65);\">{{comment_show}}</span>\r\n                </div>\r\n                <div style=\"float:left;height: 16px;width: 100%\" v-if=\"isMark\">\r\n                    <span style=\"float:left;color: rgba(11,21,22,0.38);font-size: 18px\">你的评价：</span>\r\n                    <div class=\"star1\">\r\n                        <div class=\"lightStar\" :style=\"{width: ownScore*10 + 'px'}\"></div>\r\n                        <div class=\"greyStar\"></div>\r\n                    </div>\r\n                    <span style=\"padding-left: 10px;font-size: 15px;color: rgba(0,0,0,0.65);\">{{ownScore}}分</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\r\n<script src=\"https://cdn.bootcss.com/lodash.js/4.17.15/lodash.min.js\"></script>\r\n<script>\r\n    export default {\r\n        name: 'MovieInfo',\r\n        data(){\r\n            return{\r\n                userId: '',\r\n                userInfo: '',\r\n                user_show: 0,\r\n                movieId: '',\r\n                info: '',\r\n                moreInfo: '',\r\n                genre: [],\r\n                genre_len: 0,\r\n                isMark: false,\r\n                ownScore: 0,\r\n                light: 0,\r\n                comment_show: '',\r\n            }\r\n        },\r\n        mounted: function () {\r\n\r\n            this.userId = window.sessionStorage.user;\r\n            let userJsonStr = window.sessionStorage.getItem('userInfo');\r\n            this.userInfo = JSON.parse(userJsonStr);\r\n            this.movieId = this.$route.query.movie_id;\r\n\r\n            axios.post(\r\n                'http://localhost:8866/get/movie/info',\r\n                {\r\n                    movieId: this.movieId\r\n                }\r\n            ).then((res)=>{\r\n                this.info = res.data;\r\n                let pic = '';\r\n                pic = this.info.movieId + '.jpg';\r\n                this.info.movieId = 'http://chenda.work/imdb/jpg/'+pic;\r\n                let s = this.info.avgScore;\r\n                this.info.avgScore = Math.round(s*10)/5.0;\r\n            }).catch(function (error) {\r\n                console.log(JSON.stringify(error));\r\n                console.log(error.result);\r\n            }).finally(function () {\r\n\r\n            });\r\n\r\n            axios.post(\r\n                'http://localhost:8866/get/movie/moreInfo',\r\n                {\r\n                    movieId: this.movieId\r\n                }\r\n            ).then((res)=>{\r\n                this.moreInfo = res.data;\r\n                if(this.moreInfo.action==1)\r\n                    this.genre.push(\"action\");\r\n                if(this.moreInfo.adventure==1)\r\n                    this.genre.push(\"adventure\");\r\n                if(this.moreInfo.animation==1)\r\n                    this.genre.push(\"animation\");\r\n                if(this.moreInfo.childrens==1)\r\n                    this.genre.push(\"childrens\");\r\n                if(this.moreInfo.comedy==1)\r\n                    this.genre.push(\"comedy\");\r\n                if(this.moreInfo.crime==1)\r\n                    this.genre.push(\"crime\");\r\n                if(this.moreInfo.documentary==1)\r\n                    this.genre.push(\"documentary\");\r\n                if(this.moreInfo.drama==1)\r\n                    this.genre.push(\"drama\");\r\n                if(this.moreInfo.fantasy==1)\r\n                    this.genre.push(\"fantasy\");\r\n                if(this.moreInfo.filmnoir==1)\r\n                    this.genre.push(\"filmnoir\");\r\n                if(this.moreInfo.horror==1)\r\n                    this.genre.push(\"horror\");\r\n                if(this.moreInfo.musical==1)\r\n                    this.genre.push(\"musical\");\r\n                if(this.moreInfo.mystery==1)\r\n                    this.genre.push(\"mystery\");\r\n                if(this.moreInfo.romance==1)\r\n                    this.genre.push(\"romance\");\r\n                if(this.moreInfo.scifi==1)\r\n                    this.genre.push(\"scifi\");\r\n                if(this.moreInfo.thriller==1)\r\n                    this.genre.push(\"thriller\")\r\n                if(this.moreInfo.war==1)\r\n                    this.genre.push(\"war\");\r\n                if(this.moreInfo.unknown==1)\r\n                    this.genre.push(\"unknown\");\r\n                this.genre_len = this.genre.length;\r\n            }).catch(function (error) {\r\n                console.log(JSON.stringify(error));\r\n                console.log(error.result);\r\n            }).finally(function () {\r\n\r\n            });\r\n\r\n            axios.post(\r\n                'http://localhost:8866/check/isMark',\r\n                {\r\n                    userId: this.userId,\r\n                    movieId: this.movieId\r\n                }\r\n            ).then((res)=>{\r\n                if(res.data.score != null) {\r\n                    this.isMark = true;\r\n                    this.ownScore = res.data.score * 2;\r\n                }\r\n            }).catch(function (error) {\r\n                console.log(JSON.stringify(error));\r\n                console.log(error.result);\r\n            }).finally(function () {\r\n\r\n            });\r\n        },\r\n        methods: {\r\n            //评分鼠标悬停事件\r\n            onStar(mark){\r\n                if(mark==0){\r\n                    this.light = 0;\r\n                    this.comment_show = '';\r\n                }\r\n                if(mark==1){\r\n                    this.light = 20;\r\n                    this.comment_show = '很差';\r\n                }\r\n                if(mark==2){\r\n                    this.light = 40;\r\n                    this.comment_show = '较差';\r\n                }\r\n                if(mark==3){\r\n                    this.light = 60;\r\n                    this.comment_show = '还行';\r\n                }\r\n                if(mark==4){\r\n                    this.light = 80;\r\n                    this.comment_show = '推荐';\r\n                }\r\n                if(mark==5){\r\n                    this.light = 100;\r\n                    this.comment_show = '力荐';\r\n                }\r\n            },\r\n\r\n            //按下评价\r\n            markDown(starWidth){\r\n                let score = starWidth / 20;\r\n                axios.post(\r\n                    'http://localhost:8866/add/markMovie',\r\n                    {\r\n                        userId: this.userId,\r\n                        movieId: this.movieId,\r\n                        score: score\r\n                    }\r\n                ).then((res)=>{\r\n                    console.log(res.data);\r\n                    if(res.data == 1){\r\n                        this.isMark = true;\r\n                        this.ownScore = score * 2;\r\n                        this.comment_show = '';\r\n                    }\r\n                    else{\r\n                        alert(\"服务器开小差了，请稍后再试\");\r\n                    }\r\n                }).catch(function (error) {\r\n                    console.log(JSON.stringify(error));\r\n                    console.log(error.result);\r\n                }).finally(function () {\r\n\r\n                })\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .top{\r\n        height: 60px;\r\n        width: 100%;\r\n        background: rgba(225,252,255,0.58);\r\n    }\r\n    .logo{\r\n        float: left;\r\n        width: 90%;\r\n        height: 60px;\r\n        color: #1a94ff;\r\n    }\r\n    .person{\r\n        float: left;\r\n        width: 10%;\r\n        height: 40px;\r\n        cursor: pointer;\r\n    }\r\n    .userBox{\r\n        width: 200px;\r\n        height: 260px;\r\n        position: absolute;\r\n        top: 30px;\r\n        right: 8%;\r\n        z-index: 1000;\r\n        background: white;\r\n        border: 2px solid #DDDDDD;\r\n        border-radius: 20px;\r\n    }\r\n    .middle{\r\n        width: 80%;\r\n        margin-left: 10%;\r\n    }\r\n    .movieName{\r\n        font-size: 28px;\r\n    }\r\n    .star{\r\n        width: 100px;\r\n        height: 16px;\r\n        position: relative;\r\n        display: inline-block;\r\n    }\r\n    .lightStar{\r\n        height: 16px;\r\n        background-image: url(//dn-piaoniu-static.qbox.me/pc/ui/img/star-full.04f7ab77.png);\r\n        position: absolute;\r\n    }\r\n    .greyStar{\r\n        height: 16px;\r\n        background-image: url(//dn-piaoniu-static.qbox.me/pc/ui/img/star-empty.ebc71406.png);\r\n        background-repeat: repeat-x;\r\n    }\r\n    .star1{\r\n        padding-top: 3px;\r\n        float: left;\r\n        width: 100px;\r\n        height: 16px;\r\n        position: relative;\r\n        display: inline-block;\r\n    }\r\n    .greyStar1{\r\n        cursor: pointer;\r\n        display: inline-block;\r\n        width: 20px;\r\n        height: 16px;\r\n        background-image: url(//dn-piaoniu-static.qbox.me/pc/ui/img/star-empty.ebc71406.png);\r\n        background-repeat: no-repeat;\r\n    }\r\n    .lightStar1{\r\n        cursor: pointer;\r\n        height: 16px;\r\n        background-image: url(//dn-piaoniu-static.qbox.me/pc/ui/img/star-full.04f7ab77.png);\r\n        position: absolute;\r\n    }\r\n    .num{\r\n        color: #ffb02e;\r\n        font-weight: 400;\r\n        font-size: 18px;\r\n        display: inline-block;\r\n    }\r\n</style>"]}]}